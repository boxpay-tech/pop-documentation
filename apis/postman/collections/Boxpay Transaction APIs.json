{
	"info": {
		"_postman_id": "bf209f50-323a-4052-8aba-84ac61296c29",
		"name": "Boxpay Transaction APIs",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_uid": "162392-bf209f50-323a-4052-8aba-84ac61296c29"
	},
	"item": [
		{
			"name": "Transaction APIs",
			"item": [
				{
					"name": "Auth Payment",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1e2452a4-f809-4158-b155-7cd58b0d2964",
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.environment.set(\"transactionId\", jsonData.operationId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "40e706ac-eaa6-4893-9170-cfcac42c3b82",
								"exec": [
									"pm.environment.set(\"amount\", _.random(100, 500));",
									"pm.environment.set(\"currency\", _.sample(['USD', 'SGD']));",
									"pm.environment.set(\"country\", _.sample(['US', 'SG']));",
									"pm.environment.set(\"cardNo\", _.sample(['2222400070000005', '4111111111111111']))",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "4c21b224-2308-46de-8b25-e6999781c20f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "LSVhj3DAL8G6CmP4km9XqyWjsZCRWz87fOzVxENCS96krRKushqJIXjFLuKXipeLqcuHf7Baz0QLJ4z4mAzAft",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer 123",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"context\": {\n        \"countryCode\": \"{{country}}\",\n        \"legalEntity\": {\n            \"code\": \"Legal_Entity\"\n        }\n    },\n    \"paymentType\": \"A\",\n    \"moneyInstruction\": {\n        \"money\": {\n            \"amount\": {{amount}},\n            \"currencyCode\": \"{{currency}}\"\n        },\n        \"descriptor\": {\n            \"line1\": \"Some descriptor\"\n        },\n        \"instrument\": {\n            \"type\": \"card/plain\",\n            \"card\": {\n                \"number\": \"{{cardNo}}\",\n                \"expiry\": \"2030-03\",\n                \"cvc\": \"737\",\n                \"holderName\": \"John Smith\"\n            }\n        },\n        \"billingAddress\": {\n            \"address1\": \"first address line\",\n            \"address2\": \"second address line\",\n            \"city\": \"Faridabad\",\n            \"state\": \"Haryana\",\n            \"countryCode\": \"IN\",\n            \"postalCode\": \"121004\"\n        }\n    },\n    \"shopper\": {\n        \"firstName\": \"test\",\n        \"lastName\": \"last\",\n        \"email\": \"test123@gmail.com\"\n    },\n    \"frontendReturnUrl\": \"<merchant-url>\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions",
							"protocol": "http",
							"host": [
								"{{dns}}"
							],
							"path": [
								"merchants",
								"{{merchantId}}",
								"transactions"
							]
						}
					},
					"response": [
						{
							"id": "65ccb151-7768-4cb8-b60e-21d825258d41",
							"name": "Auth Payment Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer 123",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": {\n        \"countryCode\": \"{{country}}\",\n        \"legalEntity\": {\n            \"code\": \"Legal_Entity\"\n        }\n    },\n    \"paymentType\": \"A\",\n    \"moneyInstruction\": {\n        \"money\": {\n            \"amount\": {{amount}},\n            \"currencyCode\": \"{{currency}}\"\n        },\n        \"descriptor\": {\n            \"line1\": \"Some descriptor\"\n        },\n        \"instrument\": {\n            \"type\": \"card/plain\",\n            \"card\": {\n                \"number\": \"{{cardNo}}\",\n                \"expiry\": \"2030-03\",\n                \"cvc\": \"737\",\n                \"holderName\": \"John Smith\"\n            }\n        },\n        \"billingAddress\": {\n            \"address1\": \"first address line\",\n            \"address2\": \"second address line\",\n            \"city\": \"Faridabad\",\n            \"state\": \"Haryana\",\n            \"countryCode\": \"IN\",\n            \"postalCode\": \"121004\"\n        }\n    },\n    \"shopper\": {\n        \"firstName\": \"test\",\n        \"lastName\": \"last\",\n        \"email\": \"test123@gmail.com\"\n    },\n    \"frontendReturnUrl\": \"<merchant-url>\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions",
									"protocol": "http",
									"host": [
										"{{dns}}"
									],
									"path": [
										"merchants",
										"{{merchantId}}",
										"transactions"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "content-length",
									"value": "230"
								}
							],
							"cookie": [],
							"body": "{\n    \"operationId\": \"a2h79K0CyI\",\n    \"status\": {\n        \"operation\": \"Authorisation\",\n        \"status\": \"Rejected\",\n        \"reason\": \"-1006:merchant is not setup to use direct_n3d api_mode\"\n    },\n    \"pspCode\": \"REDDOT\",\n    \"pspReference\": null,\n    \"authCode\": null,\n    \"additionalData\": null\n}"
						}
					]
				},
				{
					"name": "Capture Request",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "35c9838d-2581-47f5-81b8-81830bc72095",
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.environment.set(\"captureId\", jsonData.operationId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "53b55273-4298-4c4b-bfd4-1faf33a97f2a",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "LSVhj3DAL8G6CmP4km9XqyWjsZCRWz87fOzVxENCS96krRKushqJIXjFLuKXipeLqcuHf7Baz0QLJ4z4mAzAft",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"money\": {\n        \"amount\": \"238\",\n        \"currencyCode\": \"SGD\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}/captures",
							"protocol": "http",
							"host": [
								"{{dns}}"
							],
							"path": [
								"merchants",
								"{{merchantId}}",
								"transactions",
								"{{transactionId}}",
								"captures"
							]
						}
					},
					"response": [
						{
							"id": "c16d8212-f9f4-4303-8dac-922b6985ef3a",
							"name": "Capture Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"money\": {\n        \"amount\": \"238\",\n        \"currencyCode\": \"SGD\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}/captures",
									"protocol": "http",
									"host": [
										"{{dns}}"
									],
									"path": [
										"merchants",
										"{{merchantId}}",
										"transactions",
										"{{transactionId}}",
										"captures"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "content-length",
									"value": "234"
								}
							],
							"cookie": [],
							"body": "{\n    \"operationId\": \"9VKKsFJ2Ew\",\n    \"status\": {\n        \"operation\": \"Partial_Capture\",\n        \"status\": \"Posted\",\n        \"reason\": \"Posted to PSP\"\n    },\n    \"pspCode\": \"CYBERSOURCE\",\n    \"pspReference\": \"016150703802094\",\n    \"authCode\": null,\n    \"additionalData\": {\n        \"reconciliationId\": \"76532859\"\n    }\n}"
						}
					]
				},
				{
					"name": "Refund Request",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "76da2c07-a813-453e-aafc-ff579811c5ce",
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.environment.set(\"refundId\", jsonData.operationId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "a8209607-a4bb-413b-aacb-598b35d5eae5",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "LSVhj3DAL8G6CmP4km9XqyWjsZCRWz87fOzVxENCS96krRKushqJIXjFLuKXipeLqcuHf7Baz0QLJ4z4mAzAft",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"money\": {\n        \"amount\": \"238\",\n        \"currencyCode\": \"SGD\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}/refunds",
							"protocol": "http",
							"host": [
								"{{dns}}"
							],
							"path": [
								"merchants",
								"{{merchantId}}",
								"transactions",
								"{{transactionId}}",
								"refunds"
							]
						}
					},
					"response": [
						{
							"id": "1e6362e7-6843-4d6b-bc49-1a8094d1eed8",
							"name": "Refund Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"money\": {\n        \"amount\": \"238\",\n        \"currencyCode\": \"SGD\"\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}/refunds",
									"protocol": "http",
									"host": [
										"{{dns}}"
									],
									"path": [
										"merchants",
										"{{merchantId}}",
										"transactions",
										"{{transactionId}}",
										"refunds"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "content-length",
									"value": "233"
								}
							],
							"cookie": [],
							"body": "{\n    \"operationId\": \"9VKLnSsWUE\",\n    \"status\": {\n        \"operation\": \"Partial_Refund\",\n        \"status\": \"Posted\",\n        \"reason\": \"Posted to PSP\"\n    },\n    \"pspCode\": \"CYBERSOURCE\",\n    \"pspReference\": \"016150703802094\",\n    \"authCode\": null,\n    \"additionalData\": {\n        \"reconciliationId\": \"76532904\"\n    }\n}"
						}
					]
				},
				{
					"name": "Cancel Request",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "420cea9d-bbec-4908-a0b6-85ae0674918c",
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.environment.set(\"cancelId\", jsonData.operationId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "d926e44a-1e83-4b4f-8d07-340a59cf49d4",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "LSVhj3DAL8G6CmP4km9XqyWjsZCRWz87fOzVxENCS96krRKushqJIXjFLuKXipeLqcuHf7Baz0QLJ4z4mAzAft",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}/cancellations",
							"protocol": "http",
							"host": [
								"{{dns}}"
							],
							"path": [
								"merchants",
								"{{merchantId}}",
								"transactions",
								"{{transactionId}}",
								"cancellations"
							]
						}
					},
					"response": [
						{
							"id": "35e43c9d-df45-4a8b-822d-058fa557e4c3",
							"name": "Cancel Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}/cancellations",
									"protocol": "http",
									"host": [
										"{{dns}}"
									],
									"path": [
										"merchants",
										"{{merchantId}}",
										"transactions",
										"{{transactionId}}",
										"cancellations"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Fri, 21 Apr 2023 05:29:03 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Content-Length",
									"value": "193"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								}
							],
							"cookie": [],
							"body": "{\n    \"operationId\": \"9X3skikkKc\",\n    \"status\": {\n        \"operation\": \"Cancel\",\n        \"status\": \"Posted\",\n        \"reason\": \"Posted to PSP\"\n    },\n    \"pspCode\": \"ADYEN\",\n    \"pspReference\": \"WCQPVQPCH3RZNN82\",\n    \"authCode\": null,\n    \"additionalData\": null\n}"
						}
					]
				},
				{
					"name": "Get Transaction Details",
					"id": "2bc3acb1-618e-405a-97ec-1fa55b675018",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "LSVhj3DAL8G6CmP4km9XqyWjsZCRWz87fOzVxENCS96krRKushqJIXjFLuKXipeLqcuHf7Baz0QLJ4z4mAzAft",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}",
							"protocol": "http",
							"host": [
								"{{dns}}"
							],
							"path": [
								"merchants",
								"{{merchantId}}",
								"transactions",
								"{{transactionId}}"
							]
						}
					},
					"response": [
						{
							"id": "c8914568-20ae-4925-b851-abc17d53c7c0",
							"name": "Get Transaction Details Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://{{dns}}/merchants/{{merchantId}}/transactions/{{transactionId}}",
									"protocol": "http",
									"host": [
										"{{dns}}"
									],
									"path": [
										"merchants",
										"{{merchantId}}",
										"transactions",
										"{{transactionId}}"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Tue, 18 Apr 2023 11:23:19 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Content-Length",
									"value": "1748"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								}
							],
							"cookie": [],
							"body": "{\n    \"transactionId\": \"9StNE14WyI\",\n    \"merchantId\": \"8KmZGY8Dok\",\n    \"basicDetails\": {\n        \"type\": \"basicDetails\",\n        \"id\": \"9StNE14WyI\",\n        \"transactionId\": \"9StNE14WyI\",\n        \"merchantId\": \"8KmZGY8Dok\",\n        \"version\": 2,\n        \"addedOn\": \"2023-04-18T11:19:40.035074897Z\",\n        \"updatedOn\": \"2023-04-18T11:19:40.756368744Z\",\n        \"context\": {\n            \"legalEntity\": {\n                \"code\": \"Legal_Entity\"\n            },\n            \"countryCode\": \"US\",\n            \"clientPosId\": null,\n            \"clientReferenceId\": null\n        },\n        \"status\": {\n            \"operation\": \"Authorisation\",\n            \"status\": \"Approved\",\n            \"reason\": \"Approved by PSP\"\n        }\n    },\n    \"statusHistory\": {\n        \"type\": \"statusHistory\",\n        \"id\": \"9StNE14WyI\",\n        \"transactionId\": \"9StNE14WyI\",\n        \"merchantId\": \"8KmZGY8Dok\",\n        \"version\": 2,\n        \"addedOn\": \"2023-04-18T11:19:40.035082897Z\",\n        \"updatedOn\": \"2023-04-18T11:19:40.035083347Z\",\n        \"statusChanges\": [\n            {\n                \"oldStatus\": {\n                    \"operation\": \"Authorisation\",\n                    \"status\": \"Received\",\n                    \"reason\": \"Received by Boxpay for processing\"\n                },\n                \"newStatus\": {\n                    \"operation\": \"Authorisation\",\n                    \"status\": \"Approved\",\n                    \"reason\": \"Approved by PSP\"\n                },\n                \"addedOn\": \"2023-04-18T11:19:40.756386664Z\"\n            }\n        ]\n    },\n    \"authorisation\": {\n        \"type\": \"authorisation\",\n        \"id\": \"9StNE14WyI\",\n        \"transactionId\": \"9StNE14WyI\",\n        \"merchantId\": \"8KmZGY8Dok\",\n        \"version\": 1,\n        \"addedOn\": \"2023-04-18T11:19:40.756340503Z\",\n        \"updatedOn\": \"2023-04-18T11:19:40.756340793Z\",\n        \"pspResponses\": [\n            {\n                \"pspCode\": \"ADYEN\",\n                \"receivedOn\": \"2023-04-18T11:19:40.756315263Z\",\n                \"pspReference\": \"MF9HP9MH2HXXGN82\",\n                \"status\": {\n                    \"operation\": \"Authorisation\",\n                    \"status\": \"Approved\",\n                    \"reason\": \"Approved by PSP\"\n                },\n                \"authCode\": \"043380\"\n            }\n        ],\n        \"paymentMethod\": {\n            \"id\": \"66e9d00e-fb72-3475-80e6-b5f8e58863d7\",\n            \"type\": \"Card\",\n            \"brand\": \"VISA\",\n            \"classification\": null,\n            \"subBrand\": null,\n            \"addedDTime\": \"2023-02-14T11:03:10.142970326Z\"\n        },\n        \"money\": {\n            \"amount\": 109,\n            \"currencyCode\": \"USD\"\n        },\n        \"frontendReturnUrl\": \"<merchant-url>\"\n    },\n    \"captures\": [],\n    \"refunds\": [],\n    \"cancellation\": null\n}"
						}
					]
				}
			],
			"id": "040b3463-7cc0-4b28-8aac-85a229807340"
		}
	]
}